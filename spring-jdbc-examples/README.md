# spring-data-jdbc-examples
### SQL/NoSQL
**Example01**  
毕业设计评分数据库设计，数据库仅记录评分，统计由前端加载数据后负责。需求：  
毕业设计成绩由若干过程组成(开题/期中/毕业答辩等)，每过程又包含若干比例的评分项(开题：报告50%/前瞻创新性25%/答辩说明25%)。  
教师为学生的每个过程中的每个子项评分。

按范式设计：  
过程表，包含过程名称/描述等。  
过程项表，过程ID，每过程子项的详细信息，项名称/描述等。  
评分表，过程ID，子项ID，学生ID，教师ID，评分。

3张表；5名教师仅为20名学生的开题评分(3子项)，5 * 20 * 3 = 300条记录；同时前端渲染展示时，需显示教师名称及评分，需并表查询。

反范式冗余设计：  
过程表，将过程子项以JSON数组存储。  
评分表，过程ID，学生ID，教师ID，将教师每过程子项评分，及教师姓名以JSON字段冗余存储。

2张表；5名教师为20名学生的开题评分(3子项)，5 * 20 = 100条记录；无需并表查询。   
甚至可以将所有教师在一个过程对一名学生的所有评分，以JSON数组存储，开题评分将只有20条记录。但语句过于复杂需整合使用多个函数。

**Example02**  
教师信息数据库设计。需求：   
专业部门信息   
教师，属于某唯一部门，需要加载指定部门的所有教师功能；需要基于教师ID加载教师信息，及所属部门信息功能。

按范式设计：  
部门表，部门信息描述。  
教师表，部门ID+索引，但获取部门信息时必须并表查询。

反范式冗余设计：  
基于分析，部门信息不会经常变更，因此可将部门信息以JSON冗余的存储在教师表，当基于教师ID查询教师及部门信息时，可直接加载而无需并表查询。  
同时，添加JSON类型中部门ID属性为索引，即可通过部门ID获取全部教师而无需全表扫描。
